// процедура изменяет состав ролей пользователя информационной базы согласно
// выбранному профилю доступа
Процедура ПрименитьПараметрыПрофиляДоступаКИнформационнойБазе(Пользователь,Профиль) Экспорт
	ПользовательИБ = ПользователиИнформационнойБазы.НайтиПоИмени(СокрЛП(Пользователь.Код));
	Если ПользовательИБ<>Неопределено Тогда
		ПользовательИБ.Роли.Очистить();
		Для Каждого РольПрофиля Из Профиль.НазначенныеРоли Цикл
			Если Метаданные.Роли.Найти(РольПрофиля.Роль)=Неопределено Тогда
				Продолжить;
			КонецЕсли;
			ПользовательИБ.Роли.Добавить(Метаданные.Роли[РольПрофиля.Роль]);
		КонецЦикла;
		ПользовательИБ.Записать();
	КонецЕсли;
КонецПроцедуры