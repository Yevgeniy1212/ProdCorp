////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ ЗАПОЛНЕНИЯ ДОКУМЕНТОВ НАЧИСЛЕНИЯМИ

Процедура ДобавитьОбъединенияВЗапросПолученияДействийСНачислениями(ТекстЗапроса, ПолеПодразделение, ПолеДолжность) Экспорт
	
	// В этой конфигурации структура печатных форм не дополняется

КонецПроцедуры

Процедура ДобавитьТаблицыВЗапросПолученияДействийСУправленческимиНачислениями(ТекстЗапроса) Экспорт
	
	ТекстЗапроса = ТекстЗапроса +  "
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеСотрудников.Сотрудник КАК Сотрудник,
	|	ДанныеСотрудников.Физлицо КАК Физлицо,
	|	СхемыМотивацииРаботников.ВидРасчета КАК ВидРасчета,
	|	СхемыМотивацииРаботников.Показатель1,
	|	СхемыМотивацииРаботников.Показатель2,
	|	СхемыМотивацииРаботников.Показатель3,
	|	СхемыМотивацииРаботников.Показатель4,
	|	СхемыМотивацииРаботников.Показатель5,
	|	СхемыМотивацииРаботников.Показатель6,
	|	СхемыМотивацииРаботников.Валюта1,
	|	СхемыМотивацииРаботников.Валюта2,
	|	СхемыМотивацииРаботников.Валюта3,
	|	СхемыМотивацииРаботников.Валюта4,
	|	СхемыМотивацииРаботников.Валюта5,
	|	СхемыМотивацииРаботников.Валюта6,
	|	ДанныеСотрудников.ДатаДействия,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд1,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд2,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд3,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд4,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд5,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд6
	|ПОМЕСТИТЬ НачисленияСтаройПозицииСрезПоследних
	|ИЗ
	|	ДанныеСотрудников КАК ДанныеСотрудников
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.СхемыМотивацииРаботников КАК СхемыМотивацииРаботников
	|		ПО (СхемыМотивацииРаботников.ВидРасчета ССЫЛКА ПланВидовРасчета.УправленческиеНачисления
	|				ИЛИ СхемыМотивацииРаботников.ВидРасчета ССЫЛКА ПланВидовРасчета.УправленческиеУдержания)
	|			И (ВЫБОР
	|				КОГДА СхемыМотивацииРаботников.Подразделение = НЕОПРЕДЕЛЕНО
	|					ТОГДА ДанныеСотрудников.СтараяДолжность = СхемыМотивацииРаботников.Должность
	|				ИНАЧЕ ДанныеСотрудников.СтароеПодразделение = СхемыМотивацииРаботников.Подразделение
	|						И ДанныеСотрудников.СтараяДолжность = СхемыМотивацииРаботников.Должность
	|			КОНЕЦ)
	|
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеСотрудников.Сотрудник КАК Сотрудник,
	|	ДанныеСотрудников.Физлицо КАК Физлицо,
	|	СхемыМотивацииРаботников.ВидРасчета КАК ВидРасчета,
	|	СхемыМотивацииРаботников.Показатель1,
	|	СхемыМотивацииРаботников.Показатель2,
	|	СхемыМотивацииРаботников.Показатель3,
	|	СхемыМотивацииРаботников.Показатель4,
	|	СхемыМотивацииРаботников.Показатель5,
	|	СхемыМотивацииРаботников.Показатель6,
	|	СхемыМотивацииРаботников.Валюта1,
	|	СхемыМотивацииРаботников.Валюта2,
	|	СхемыМотивацииРаботников.Валюта3,
	|	СхемыМотивацииРаботников.Валюта4,
	|	СхемыМотивацииРаботников.Валюта5,
	|	СхемыМотивацииРаботников.Валюта6,
	|	ДанныеСотрудников.ДатаДействия,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд1,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд2,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд3,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд4,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд5,
	|	ЗНАЧЕНИЕ(Справочник.ТарифныеРазряды.ПустаяСсылка) КАК ТарифныйРазряд6
	|ПОМЕСТИТЬ НачисленияНовойПозицииСрезПоследних
	|ИЗ
	|	ДанныеСотрудников КАК ДанныеСотрудников
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.СхемыМотивацииРаботников КАК СхемыМотивацииРаботников
	|		ПО (СхемыМотивацииРаботников.ВидРасчета ССЫЛКА ПланВидовРасчета.УправленческиеНачисления
	|				ИЛИ СхемыМотивацииРаботников.ВидРасчета ССЫЛКА ПланВидовРасчета.УправленческиеУдержания)
	|			И (ВЫБОР
	|				КОГДА СхемыМотивацииРаботников.Подразделение = НЕОПРЕДЕЛЕНО
	|					ТОГДА ДанныеСотрудников.Должность = СхемыМотивацииРаботников.Должность
	|				ИНАЧЕ ДанныеСотрудников.Подразделение = СхемыМотивацииРаботников.Подразделение
	|						И ДанныеСотрудников.Должность = СхемыМотивацииРаботников.Должность
	|			КОНЕЦ)
	|
	|;
	|";
	
КонецПроцедуры

