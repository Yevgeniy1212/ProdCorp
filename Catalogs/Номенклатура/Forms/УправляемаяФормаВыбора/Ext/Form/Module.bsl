
// Процедура - обработчик события "ПриАктивизацииСтроки" элемента СправочникСписок.
&НаКлиенте
Процедура СписокПриАктивизацииСтроки(Элемент)
	Элементы.Дерево.ТекущийЭлемент = Элементы.Список.ТекущийРодитель;
КонецПроцедуры // СправочникСписокПриАктивизацииСтроки()

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

// Процедура - обработчик события "Нажатие" элемента формы ДействияФормы.Действие.
//
&НаКлиенте
Процедура ДействияФормыДействие(Кнопка)
	Если Элементы.Список.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	НоменклатураВыбора = Элементы.Список.ТекущиеДанные.Ссылка;
	
	Если ТипЗнч(ЭтаФорма.ВладелецФормы) = Тип("ПолеВвода") Тогда
		Если НоменклатураВыбора.ЭтоГруппа И ЭтаФорма.ВладелецФормы.ВыборГруппИЭлементов = ИспользованиеГруппИЭлементов.Элементы Тогда
			Возврат;
		КонецЕсли; 
	КонецЕсли; 

	ОповеститьОВыборе(НоменклатураВыбора);
КонецПроцедуры

&НаКлиенте
Процедура ОтображатьУслугиПриИзменении(Элемент)
	//Если Список.Отбор.Элементы.Найти("Услуга")
	//Сообщить("");
КонецПроцедуры


&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если параметры.Свойство("Услуга") тогда
		ЭлементОтбора = Список.Отбор.Элементы.добавить(тип("ЭлементОтбораКомпоновкиДанных"));
		ЭлементОтбора.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Услуга");
		ЭлементОтбора.ПравоеЗначение = Параметры.Услуга;
		ЭлементОтбора.Использование = Истина;
	КонецЕсли;
	Если параметры.Свойство("ЗакрыватьПриВыборе") тогда
		Если Параметры.ЗакрыватьПриВыборе<>Неопределено Тогда
			ЭтаФорма.ЗакрыватьПриВыборе = Параметры.ЗакрыватьПриВыборе;
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры

