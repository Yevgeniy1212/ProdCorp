
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	ДетализацияПланированияНоменклатура = Перечисления[фин_ОбщегоНазначенияВызовСервераПовтИсп.ПрефиксОбщихОбъектов()+"ДетализацияПланирования"].Номенклатура;
	
	НС = Список.Добавить();
	НС.Ссылка = Перечисления.фин_ВидыДанныхОтчета.Фактические;
	НС.Наименование = НС.Ссылка;
	НС.Периодичность = Перечисления.фин_Периодичность.Месяц;
	НС.ПродолжительностьЦикла = 1;
	НС.Валюта = фин_ОбщегоНазначенияВызовСервераПовтИсп.ЗначениеПеременной("ВалютаРегламентированногоУчета");
	НС.ДетализацияПланирования = ДетализацияПланированияНоменклатура;
	НС.ПредопределенноеЗначение = Истина;
	
	НС = Список.Добавить();
	НС.Ссылка = Перечисления.фин_ВидыДанныхОтчета.Прогнозные;
	НС.Наименование = НС.Ссылка;
	НС.Периодичность = Перечисления.фин_Периодичность.Месяц;
	НС.ПродолжительностьЦикла = 1;
	НС.Валюта = фин_ОбщегоНазначенияВызовСервераПовтИсп.ЗначениеПеременной("ВалютаРегламентированногоУчета");
	НС.ДетализацияПланирования = ДетализацияПланированияНоменклатура;
	НС.ПредопределенноеЗначение = Истина;
	
	НС = Список.Добавить();
	НС.Ссылка = Перечисления.фин_ВидыДанныхОтчета.ФактическиеСУчетомПрогнозных;
	НС.Наименование = НС.Ссылка;
	НС.Периодичность = Перечисления.фин_Периодичность.Месяц;
	НС.ПродолжительностьЦикла = 1;
	НС.Валюта = фин_ОбщегоНазначенияВызовСервераПовтИсп.ЗначениеПеременной("ВалютаРегламентированногоУчета");
	НС.ДетализацияПланирования = ДетализацияПланированияНоменклатура;
	НС.ПредопределенноеЗначение = Истина;

	
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	СценарииПланирования.Ссылка,
		|	СценарииПланирования.ВерсияДанных,
		|	СценарииПланирования.ПометкаУдаления,
		|	СценарииПланирования.Родитель,
		|	СценарииПланирования.ЭтоГруппа,
		|	СценарииПланирования.Код КАК Код,
		|	СценарииПланирования.Наименование,
		|	СценарииПланирования.Периодичность,
		|	СценарииПланирования.ДетализацияПланирования,
		|	СценарииПланирования.Валюта,
		|	СценарииПланирования.ПродолжительностьЦикла,
		|	СценарииПланирования.НачалоПлана,
		|	СценарииПланирования.КонецПлана,
		|	СценарииПланирования.НормаДоходности,
		|	СценарииПланирования.ИспользоватьКурсыСценария,
		|	СценарииПланирования.ИспользоватьТочкиПланирования,
		|	СценарииПланирования.ЕдинаяЦенаВБюджетномПериоде,
		|	СценарииПланирования.УчетПоСуммам,
		|	СценарииПланирования.УчетПоКоличеству,
		|	СценарииПланирования.Предопределенный,
		|	СценарииПланирования.ИмяПредопределенныхДанных
		|ИЗ
		|	Справочник."+фин_ОбщегоНазначенияВызовСервераПовтИсп.ПрефиксОбщихОбъектов()+"СценарииПланирования КАК СценарииПланирования
		|ГДЕ
		|	НЕ СценарииПланирования.ПометкаУдаления
		|
		|УПОРЯДОЧИТЬ ПО
		|	Код";
	
	РезультатЗапроса = Запрос.Выполнить();
	
	ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();
	
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НС = Список.Добавить();
		ЗаполнитьЗначенияСвойств(НС,ВыборкаДетальныеЗаписи);
	КонецЦикла;

	
	фин_БюджетированиеОбщегоНазначения.НастроитьОформлениеТабличногоПоля(Элементы.Список);
КонецПроцедуры

&НаКлиенте
Процедура СписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	ОповеститьОВыборе(Элементы.Список.ТекущиеДанные.Ссылка);
КонецПроцедуры
