#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда


Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	МассивНепроверяемыхРеквизитов = Новый Массив;
	Если ПорядокОпределенияСценарияНаблюдаемыхДанных=Перечисления.фин_ПорядокОпределенияСценарияНаблюдаемыхДанныхПрогноза.ПрогнозируемыйСценарий Тогда
		МассивНепроверяемыхРеквизитов.Добавить("СценарийНаблюдаемыхДанных");
	КонецЕсли;
	Если СпособСбораНаблюдаемыхДанных<>Перечисления.фин_СпособыСбораНаблюдаемыхДанныхДляМоделейПрогнозирования.ЗначенияЗаданногоПериода Тогда
		МассивНепроверяемыхРеквизитов.Добавить("НачалоНаблюдаемогоПериода");
		МассивНепроверяемыхРеквизитов.Добавить("ОкончаниеНаблюдаемогоПериода");
	КонецЕсли;
	Если (ВидМоделиПрогнозирования=Перечисления.фин_ВидыМоделейПрогнозирования.ЛинейнаяМодельМножественнойРегрессии ИЛИ ВидМоделиПрогнозирования=Перечисления.фин_ВидыМоделейПрогнозирования.НелинейнаяМодельМножественнойРегрессии) И ФиксированныеОценкиПараметров Тогда
		МассивНепроверяемыхРеквизитов.Добавить("СценарийНаблюдаемыхДанных");
		МассивНепроверяемыхРеквизитов.Добавить("КоличествоНаблюдаемыхПериодов");
		МассивНепроверяемыхРеквизитов.Добавить("СпособСбораНаблюдаемыхДанных");
		МассивНепроверяемыхРеквизитов.Добавить("ПорядокОпределенияСценарияНаблюдаемыхДанных");
		МассивНепроверяемыхРеквизитов.Добавить("НачалоНаблюдаемогоПериода");
		МассивНепроверяемыхРеквизитов.Добавить("ОкончаниеНаблюдаемогоПериода");
	КонецЕсли;
	фин_ЗаполнениеДокументов.УдалитьНепроверяемыеРеквизитыИзМассива(ПроверяемыеРеквизиты, МассивНепроверяемыхРеквизитов);
КонецПроцедуры

Процедура НастроитьПериодыПрогноза() Экспорт
	Если НачалоНаблюдаемогоПериода = '00010101' Тогда
		НачалоНаблюдаемогоПериода = НачалоМесяца(ТекущаяДата());
	КонецЕсли;
	СценарийНаблюдаемый = ?(ПорядокОпределенияСценарияНаблюдаемыхДанных=Перечисления.фин_ПорядокОпределенияСценарияНаблюдаемыхДанныхПрогноза.ВыбранныйСценарий И ЗначениеЗаполнено(СценарийНаблюдаемыхДанных),СценарийНаблюдаемыхДанных,СценарийПрогнозныхДанных);
	Если СпособСбораНаблюдаемыхДанных=Перечисления.фин_СпособыСбораНаблюдаемыхДанныхДляМоделейПрогнозирования.ЗначенияЗаданногоПериода Тогда
		Если ЗначениеЗаполнено(СценарийНаблюдаемый) И НачалоНаблюдаемогоПериода<>'00010101' Тогда
			НачалоНаблюдаемогоПериода = фин_ПроцедурыМеханизмовБюджетированияКлиентСервер.ДатаНачалаПериода(НачалоНаблюдаемогоПериода,СценарийНаблюдаемый);
			ОкончаниеНаблюдаемогоПериода = фин_ПроцедурыМеханизмовБюджетированияКлиентСервер.ДатаКонцаПериода(фин_ПроцедурыМеханизмовБюджетированияКлиентСервер.ДобавитьИнтервал(НачалоНаблюдаемогоПериода,фин_ОбщегоНазначенияВызовСервераПовтИсп.ПолучитьПериодичностьСценария(СценарийНаблюдаемый),КоличествоНаблюдаемыхПериодов),СценарийНаблюдаемый)
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

#КонецЕсли
