////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ

// Процедура проверяет, необходимо ли сформировать новое наименование справочника 
// и, если необходимо, формирует его.
//
// Параметры:
//  Нет.
//
&НаКлиенте
Процедура СформироватьНаименование()
	
	Если  ПустаяСтрока(Объект.Наименование) Тогда
		Если Объект.ДляОсвобожденногоОборота Тогда
			Объект.Наименование = "без НДС";
		Иначе
			Объект.Наименование = Строка(Объект.Ставка)+"%";
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры // СформироватьНаименованиеПолноеАвтоматически()

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ  ФОРМЫ

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ДЕЙСТВИЯ КОМАНДНЫХ ПАНЕЛЕЙ ФОРМЫ

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

// Обработчик события ПриИзменении для Ставки.
//
&НаКлиенте
Процедура СтавкаПриИзменении(Элемент)
	Объект.Наименование = "";
	СформироватьНаименование();
КонецПроцедуры

// Обработчик события ПриИзменении для освобожденного оборота.
//
&НаКлиенте
Процедура ДляОсвобожденногоОборотаПриИзменении(Элемент)
	
	Если Объект.ДляОсвобожденногоОборота Тогда
		Объект.Ставка = 0;
	КонецЕсли;
	
	Объект.Наименование = "";
	СформироватьНаименование();
	
КонецПроцедуры
