////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ

// Обработчик события ПриОткрытии формы.
//
&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ДатаКурса = ОбщегоНазначения.ПолучитьРабочуюДату();
КонецПроцедуры

// Обработчик события ОбработкаЗаписиНовогоОбъекта формы.
//
&НаКлиенте
Процедура ОбработкаЗаписиНового(НовыйОбъект, Источник, СтандартнаяОбработка)
	Элементы.Список.ТекущиеДанные = Список.Ссылка;
КонецПроцедуры

// Обработчик события ПриВыводеСтроки элемента СписокВалюты.
//
Процедура СписокВалютыПриВыводеСтроки(Элемент, ОформлениеСтроки, ДанныеСтроки)
	СтруктураКурса = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(ДатаКурса, Новый Структура("Валюта", ДанныеСтроки.Ссылка));
	Если Элемент.Колонки.Курс.Видимость Тогда
		ОформлениеСтроки.Ячейки.Курс.УстановитьТекст(Формат(СтруктураКурса.Курс, "ЧДЦ=4"));
	КонецЕсли;
	Если Элемент.Колонки.Кратность.Видимость Тогда
		ОформлениеСтроки.Ячейки.Кратность.УстановитьТекст(Формат(СтруктураКурса.Кратность, "ЧДЦ=0"));
	КонецЕсли;
КонецПроцедуры

// Процедура - вызова формы обновления курсов валют
//
&НаКлиенте
Процедура ЗагрузитьКурсы(Команда)
	//ФормаЗагрузкиКурсовВалют = РегистрыСведений.КурсыВалют.ПолучитьФорму("ФормаЗагрузкиВалют", ЭтаФорма);
	//ФормаЗагрузкиКурсовВалют.Открыть();	
КонецПроцедуры