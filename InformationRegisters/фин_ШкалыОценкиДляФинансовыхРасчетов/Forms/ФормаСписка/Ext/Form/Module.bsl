
&НаКлиенте
Процедура История(Команда)
	ОткрытьФорму("РегистрСведений.фин_ШкалыОценкиДляФинансовыхРасчетов.Форма.ФормаИстории",Новый Структура("Шкала",Шкала),ЭтотОбъект);
КонецПроцедуры


&НаКлиенте
Процедура ШкалаОтборПриИзменении(Элемент)
	НастроитьОтбор();
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Параметры.Свойство("Шкала") Тогда
		Шкала = Параметры.Шкала;
		НастроитьОтбор();
	КонецЕсли;
КонецПроцедуры
 
&НаСервере
Процедура НастроитьОтбор()
	Для Каждого ЭлементОтбора Из Список.Отбор.Элементы Цикл
		Если ЭлементОтбора.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Шкала") Тогда
			Список.Отбор.Элементы.Удалить(ЭлементОтбора);
		КонецЕсли;
	КонецЦикла;
	Если ЗначениеЗаполнено(Шкала) Тогда
		Отбор = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
		Отбор.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Шкала");
		Отбор.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;
		Отбор.ПравоеЗначение = Шкала;
	КонецЕсли;
	Элементы.Список.Обновить();
КонецПроцедуры

