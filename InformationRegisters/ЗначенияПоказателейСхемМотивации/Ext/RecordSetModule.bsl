Процедура Автозаполнение() Экспорт 
	
	Организация = Отбор.Организация.Значение;
	
	СписокНедоступныхВозможностейИзменения = Новый Массив;
	СписокНедоступныхВозможностейИзменения.Добавить(Перечисления.ИзменениеПоказателейСхемМотивации.ПустаяСсылка());
	СписокНедоступныхВозможностейИзменения.Добавить(Перечисления.ИзменениеПоказателейСхемМотивации.НеИзменяется);
	СписокНедоступныхВозможностейИзменения.Добавить(Перечисления.ИзменениеПоказателейСхемМотивации.ИзменяетсяПриРасчете);
	
	ТекущаяДата = ОбщегоНазначения.ПолучитьРабочуюДату();
	
	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("ПарамВозможностьИзменения", СписокНедоступныхВозможностейИзменения);
	Запрос.УстановитьПараметр("ПарамДата", НачалоМесяца(ТекущаяДата));
	Запрос.УстановитьПараметр("КонецМесяца", КонецМесяца(ТекущаяДата));
	Запрос.УстановитьПараметр("ПустойПоказатель", Справочники.ПоказателиСхемМотивации.ПустаяСсылка());
	
	Если ЗначениеЗаполнено(Организация) Тогда // по регл. учету
		
		Запрос.УстановитьПараметр("ОбособленноеПодразделение", Организация);
		Запрос.УстановитьПараметр("ГоловнаяОрганизация", ОбщегоНазначения.ГоловнаяОрганизация(Организация));
		Запрос.УстановитьПараметр("Прекратить", Перечисления.ВидыДействияСНачислением.Прекратить);		
		Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
		
		СотрудникиТекст = 
		"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
		|	РаботникиОрганизаций.Сотрудник КАК Сотрудник,
		|	РаботникиОрганизаций.ПодразделениеОрганизации КАК Подразделение,
		|	РаботникиОрганизаций.Должность КАК Должность,
		|	РаботникиОрганизаций.ТарифныйРазряд КАК ТарифныйРазряд
		|ПОМЕСТИТЬ ВТСотрудники
		|ИЗ
		|	РегистрСведений.РаботникиОрганизаций.СрезПоследних(&ПарамДата, Организация = &ГоловнаяОрганизация) КАК РаботникиОрганизаций
		|ГДЕ
		|	РаботникиОрганизаций.ОбособленноеПодразделение = &ОбособленноеПодразделение
		|	И РаботникиОрганизаций.ПричинаИзмененияСостояния <> ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
		|
		|ОБЪЕДИНИТЬ
		|
		|ВЫБРАТЬ
		|	РаботникиОрганизаций.Сотрудник,
		|	РаботникиОрганизаций.ПодразделениеОрганизации КАК Подразделение,
		|	РаботникиОрганизаций.Должность КАК Должность,
		|	РаботникиОрганизаций.ТарифныйРазряд КАК ТарифныйРазряд
		|ИЗ
		|	РегистрСведений.РаботникиОрганизаций КАК РаботникиОрганизаций
		|ГДЕ
		|	РаботникиОрганизаций.Период > &ПарамДата
		|	И РаботникиОрганизаций.Период <= &КонецМесяца
		|	И РаботникиОрганизаций.Организация = &ГоловнаяОрганизация
		|	И РаботникиОрганизаций.ОбособленноеПодразделение = &ОбособленноеПодразделение
		|	И РаботникиОрганизаций.ПричинаИзмененияСостояния <> ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	Сотрудник"; 
		
		Запрос.Текст = СотрудникиТекст;
		Запрос.Выполнить();
		СотрудникиТекст = "ВТСотрудники";
		
		ПлановыеНачисленияТекст = "
		|ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
		|	Сотрудники.Сотрудник,
		|	Сотрудники.Подразделение,
		|	ПлановыеНачисления.ВидРасчета,
		|	ПлановыеНачисления.Показатель1,
		|	ПлановыеНачисления.Показатель2,
		|	ПлановыеНачисления.Показатель3,
		|	ПлановыеНачисления.Показатель4,
		|	ПлановыеНачисления.Показатель5,
		|	ПлановыеНачисления.Показатель6,
		|	ПлановыеНачисления.Предопределенный1,
		|	ПлановыеНачисления.Предопределенный2,
		|	ПлановыеНачисления.Предопределенный3,
		|	ПлановыеНачисления.Предопределенный4,
		|	ПлановыеНачисления.Предопределенный5,
		|	ПлановыеНачисления.Предопределенный6
		|ПОМЕСТИТЬ ВТПлановыеНачисления
		|ИЗ
		|	ВТСотрудники КАК Сотрудники
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
		|			ПлановыеНачисления.Сотрудник КАК Сотрудник,
		|			ВЫБОР
		|				КОГДА ПлановыеНачисления.ПериодЗавершения < &парамДата
		|						И ПлановыеНачисления.ПериодЗавершения <> ДАТАВРЕМЯ(1, 1, 1)
		|					ТОГДА ПлановыеНачисления.ВидРасчетаЗавершения
		|				ИНАЧЕ ПлановыеНачисления.ВидРасчета
		|			КОНЕЦ КАК ВидРасчета,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель6,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный6
		|		ИЗ
		|			РегистрСведений.ПлановыеНачисленияРаботниковОрганизаций.СрезПоследних(&парамДата, Организация = &ГоловнаяОрганизация) КАК ПлановыеНачисления
		|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.ОсновныеНачисленияОрганизаций.Показатели КАК Показатели
		|				ПО (ВЫБОР
		|						КОГДА ПлановыеНачисления.ПериодЗавершения < &парамДата
		|								И ПлановыеНачисления.ПериодЗавершения <> ДАТАВРЕМЯ(1, 1, 1)
		|							ТОГДА ПлановыеНачисления.ВидРасчетаЗавершения
		|						ИНАЧЕ ПлановыеНачисления.ВидРасчета
		|					КОНЕЦ = Показатели.Ссылка)
		|		ГДЕ
		|			ВЫБОР
		|					КОГДА ПлановыеНачисления.ПериодЗавершения < &парамДата
		|							И ПлановыеНачисления.ПериодЗавершения <> ДАТАВРЕМЯ(1, 1, 1)
		|						ТОГДА ПлановыеНачисления.ДействиеЗавершения
		|					ИНАЧЕ ПлановыеНачисления.Действие
		|				КОНЕЦ <> &Прекратить
		|		
		|		ОБЪЕДИНИТЬ
		|		
		|		ВЫБРАТЬ
		|			ПлановыеНачисления.Сотрудник,
		|			ПлановыеНачисления.ВидРасчета,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель6,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный6
		|		ИЗ
		|			РегистрСведений.ПлановыеНачисленияРаботниковОрганизаций КАК ПлановыеНачисления
		|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.ОсновныеНачисленияОрганизаций.Показатели КАК Показатели
		|				ПО ПлановыеНачисления.ВидРасчета = Показатели.Ссылка
		|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.ДополнительныеНачисленияОрганизаций.Показатели КАК Показатели1
		|				ПО ПлановыеНачисления.ВидРасчета = Показатели1.Ссылка
		|		ГДЕ
		|			ПлановыеНачисления.Организация = &ГоловнаяОрганизация
		|			И ПлановыеНачисления.Период > &парамДата
		|			И ПлановыеНачисления.Период <= &КонецМесяца
		|			И ПлановыеНачисления.Действие <> &Прекратить
		|		
		|		ОБЪЕДИНИТЬ
		|		
		|		ВЫБРАТЬ
		|			ПлановыеНачисления.Сотрудник,
		|			ПлановыеНачисления.ВидРасчетаЗавершения,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель6,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный6
		|		ИЗ
		|			РегистрСведений.ПлановыеНачисленияРаботниковОрганизаций КАК ПлановыеНачисления
		|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.ОсновныеНачисленияОрганизаций.Показатели КАК Показатели
		|				ПО ПлановыеНачисления.ВидРасчетаЗавершения = Показатели.Ссылка
		|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.ДополнительныеНачисленияОрганизаций.Показатели КАК Показатели1
		|				ПО ПлановыеНачисления.ВидРасчета = Показатели1.Ссылка
		|		ГДЕ
		|			ПлановыеНачисления.Организация = &ГоловнаяОрганизация
		|			И ПлановыеНачисления.ПериодЗавершения МЕЖДУ &парамДата И ДОБАВИТЬКДАТЕ(&КонецМесяца, ДЕНЬ, -1)
		|			И ПлановыеНачисления.ДействиеЗавершения <> &Прекратить) КАК ПлановыеНачисления
		|		ПО Сотрудники.Сотрудник = ПлановыеНачисления.Сотрудник

		|ОБЪЕДИНИТЬ

		|ВЫБРАТЬ
		|	Сотрудники.Сотрудник,
		|	Сотрудники.Подразделение,
		|	НадбавкиПоШР.ВидНадбавки,
		|	НадбавкиПоШР.Показатель1,
		|	НадбавкиПоШР.Показатель2,
		|	НадбавкиПоШР.Показатель3,
		|	НадбавкиПоШР.Показатель4,
		|	НадбавкиПоШР.Показатель5,
		|	НадбавкиПоШР.Показатель6,
		|	НадбавкиПоШР.Предопределенный1,
		|	НадбавкиПоШР.Предопределенный2,
		|	НадбавкиПоШР.Предопределенный3,
		|	НадбавкиПоШР.Предопределенный4,
		|	НадбавкиПоШР.Предопределенный5,
		|	НадбавкиПоШР.Предопределенный6
		|ИЗ
		|	ВТСотрудники КАК Сотрудники
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
		|			НадбавкиПоШР.ПодразделениеОрганизации КАК ПодразделениеОрганизации,
		|			НадбавкиПоШР.Должность КАК Должность,
		|			НадбавкиПоШР.ТарифныйРазряд КАК ТарифныйРазряд,
		|			НадбавкиПоШР.ВидНадбавки КАК ВидНадбавки,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель6,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный6
		|		ИЗ
		|			РегистрСведений.НадбавкиПоШтатномуРасписаниюОрганизаций.СрезПоследних(&парамДата, ПодразделениеОрганизации.Владелец = &ОбособленноеПодразделение) КАК НадбавкиПоШР
		|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.ОсновныеНачисленияОрганизаций.Показатели КАК Показатели
		|				ПО НадбавкиПоШР.ВидНадбавки = Показатели.Ссылка
		|		ГДЕ
		|			НадбавкиПоШР.Действие <> &Прекратить
		|		
		|		ОБЪЕДИНИТЬ
		|		
		|		ВЫБРАТЬ
		|			НадбавкиПоШР.ПодразделениеОрганизации,
		|			НадбавкиПоШР.Должность,
		|			НадбавкиПоШР.ТарифныйРазряд,
		|			НадбавкиПоШР.ВидНадбавки,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель6,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный1,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный2,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный3,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный4,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный5,
		|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный6
		|		ИЗ
		|			РегистрСведений.НадбавкиПоШтатномуРасписаниюОрганизаций КАК НадбавкиПоШР
		|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.ОсновныеНачисленияОрганизаций.Показатели КАК Показатели
		|				ПО НадбавкиПоШР.ВидНадбавки = Показатели.Показатель
		|		ГДЕ
		|			НадбавкиПоШР.ПодразделениеОрганизации.Владелец = &ОбособленноеПодразделение
		|			И НадбавкиПоШР.Период > &парамДата
		|			И НадбавкиПоШР.Период <= &КонецМесяца
		|			И НадбавкиПоШР.Действие <> &Прекратить) КАК НадбавкиПоШР
		|		ПО Сотрудники.Подразделение = НадбавкиПоШР.ПодразделениеОрганизации
		|			И Сотрудники.Должность = НадбавкиПоШР.Должность
		|			И Сотрудники.ТарифныйРазряд = НадбавкиПоШР.ТарифныйРазряд			
		|";
		
		Запрос.Текст = ПлановыеНачисленияТекст;
		Запрос.Выполнить();
		ПлановыеНачисленияТекст = "ВТПлановыеНачисления";
		
		Запрос.Текст =
		"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
		|	&ПарамДата КАК Период,
		|	ПлановыеНачисления.Показатель,
		|	ВЫБОР
		|		КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)
		|			ТОГДА ПлановыеНачисления.Сотрудник
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СотрудникиОрганизаций.ПустаяСсылка)
		|	КОНЕЦ КАК Сотрудник,
		|	&ОбособленноеПодразделение КАК Организация,
		|	ВЫБОР
		|		КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.ПоПодразделению) 
		|			ТОГДА ПлановыеНачисления.Подразделение
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка) 
		|	КОНЕЦ КАК Подразделение,
		|	ЗначенияПоказателейСхемМотивации.Значение,
		|	ЗначенияПоказателейСхемМотивации.Валюта,
		|	ЗначенияПоказателейСхемМотивации.Документ
		|ИЗ
		|	(ВЫБРАТЬ
		|		ПлановыеНачисления.Сотрудник КАК Сотрудник,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель1 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель1.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель1.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель1, &ПустойПоказатель) = &ПустойПоказатель)
		|	
		|	ОБЪЕДИНИТЬ
		|	
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.Сотрудник КАК Сотрудник,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель2 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель2.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель2.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель2, &ПустойПоказатель) = &ПустойПоказатель)
		|	
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.Сотрудник КАК Сотрудник,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель3 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель3.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель3.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель3, &ПустойПоказатель) = &ПустойПоказатель)
		|
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.Сотрудник КАК Сотрудник,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель4 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель4.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель4.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель4, &ПустойПоказатель) = &ПустойПоказатель)
		|
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.Сотрудник КАК Сотрудник,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель5 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель5.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель5.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель5, &ПустойПоказатель) = &ПустойПоказатель)
		|
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.Сотрудник КАК Сотрудник,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель6 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель6.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель6.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель6, &ПустойПоказатель) = &ПустойПоказатель)) КАК ПлановыеНачисления
		|
		|	// подтянем уже введенные за период данные, чтобы он не перезатерлись
		|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЗначенияПоказателейСхемМотивации.СрезПоследних(
		|						&парамДата,
		|						Организация = &ОбособленноеПодразделение
	    |						И Период >= &ПарамДата
	    |						И Период <= &КонецМесяца) КАК ЗначенияПоказателейСхемМотивации
		|		ПО ПлановыеНачисления.Показатель = ЗначенияПоказателейСхемМотивации.Показатель
		|			И ВЫБОР
		|				КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)
		|					ТОГДА ПлановыеНачисления.Сотрудник
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СотрудникиОрганизаций.ПустаяСсылка)
		|			КОНЕЦ  = ЗначенияПоказателейСхемМотивации.Сотрудник
		|			И ВЫБОР
		|				КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.ПоПодразделению) 
		|					ТОГДА ПлановыеНачисления.Подразделение
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ПодразделенияОрганизаций.ПустаяСсылка) 
		|			КОНЕЦ = ЗначенияПоказателейСхемМотивации.Подразделение
		|";
		
	Иначе // по упр. учету

		Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
		         
		СотрудникиТекст = 
		"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
		|	Работники.ФизЛицо КАК ФизЛицо,
		|	Работники.Подразделение КАК Подразделение,
		|	СотрудникиОрганизаций.Ссылка КАК Сотрудник,
		|	СотрудникиОрганизаций.ВидДоговора,
		|	ВЫБОР
		|		КОГДА СотрудникиОрганизаций.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор)
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ КАК ЭтоТрудовойДоговор
		|ПОМЕСТИТЬ ВТФизическиеЛица
		|ИЗ
		|	(ВЫБРАТЬ РАЗЛИЧНЫЕ
		|		Работники.ФизЛицо КАК ФизЛицо,
		|		Работники.Подразделение КАК Подразделение
		|	ИЗ
		|		РегистрСведений.Работники.СрезПоследних(&ПарамДата, ) КАК Работники
		|	ГДЕ
		|		Работники.ПричинаИзмененияСостояния <> ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
		|	
		|	ОБЪЕДИНИТЬ
		|	
		|	ВЫБРАТЬ
		|		Работники.ФизЛицо,
		|		Работники.Подразделение
		|	ИЗ
		|		РегистрСведений.Работники КАК Работники
		|	ГДЕ
		|		Работники.Период > &ПарамДата
		|		И Работники.Период <= &КонецМесяца
		|		И Работники.ПричинаИзмененияСостояния <> ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)) КАК Работники
		|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.СотрудникиОрганизаций КАК СотрудникиОрганизаций
		|		ПО Работники.ФизЛицо = СотрудникиОрганизаций.Физлицо
		|ГДЕ
		|	СотрудникиОрганизаций.ВидЗанятости <> ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ВнутреннееСовместительство)
		|	И СотрудникиОрганизаций.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ТрудовойДоговор)
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	Работники.ФизЛицо
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
		|	РаботникиОсновноеМесто.Сотрудник,
		|	РаботникиОсновноеМесто.Сотрудник.Физлицо КАК Физлицо,
		|	ВЫБОР
		|		КОГДА РаботникиОсновноеМесто.Сотрудник.ВидЗанятости = ЗНАЧЕНИЕ(Перечисление.ВидыЗанятостиВОрганизации.ОсновноеМестоРаботы)
		|			ТОГДА ИСТИНА
		|		ИНАЧЕ ЛОЖЬ
		|	КОНЕЦ КАК ЭтоОсновноеМестоРаботы,
		|	Работники.Подразделение
		|ПОМЕСТИТЬ ВТ_Сотрудники_ТрудовойДоговор
		|ИЗ
		|	РегистрСведений.РаботникиОрганизаций.СрезПоследних(
		|			&ПарамДата,
		|			Сотрудник.ФизЛицо В
		|				(ВЫБРАТЬ
		|					ВТФизическиеЛица.ФизЛицо
		|				ИЗ
		|					ВТФизическиеЛица)) КАК РаботникиОсновноеМесто
		|ЛЕВОЕ СОЕДИНЕНИЕ ВТФизическиеЛица КАК Работники
		|	ПО Работники.ФизЛицо = РаботникиОсновноеМесто.Сотрудник.Физлицо
		|	
		|ГДЕ
		|	РаботникиОсновноеМесто.ПричинаИзмененияСостояния <> ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	ЭтоОсновноеМестоРаботы,
		|	Физлицо
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
		|	СписокСотрудников.Сотрудник КАК Сотрудник,
		|	СписокСотрудников.Физлицо КАК Физлицо,
		|	СписокСотрудников.Подразделение КАК Подразделение
		|ПОМЕСТИТЬ ВТСотрудники
		|ИЗ
		|	(ВЫБРАТЬ
		|		МАКСИМУМ(РаботникиОсновноеМесто.Сотрудник) КАК Сотрудник,
		|		РаботникиОсновноеМесто.Физлицо КАК Физлицо,
		|		1 КАК Приоритет,
		|		РаботникиОсновноеМесто.Подразделение
		|	ИЗ
		|		ВТ_Сотрудники_ТрудовойДоговор КАК РаботникиОсновноеМесто
		|	ГДЕ
		|		РаботникиОсновноеМесто.ЭтоОсновноеМестоРаботы
		|	
		|	СГРУППИРОВАТЬ ПО
		|		РаботникиОсновноеМесто.Физлицо,
		|		РаботникиОсновноеМесто.Подразделение
		|	
		|	ОБЪЕДИНИТЬ
		|	
		|	ВЫБРАТЬ
		|		МАКСИМУМ(РаботникиСовместительство.Сотрудник),
		|		РаботникиСовместительство.Физлицо,
		|		2,
		|		РаботникиСовместительство.Подразделение
		|	ИЗ
		|		ВТ_Сотрудники_ТрудовойДоговор КАК РаботникиСовместительство
		|	ГДЕ
		|		(НЕ РаботникиСовместительство.ЭтоОсновноеМестоРаботы)
		|	
		|	СГРУППИРОВАТЬ ПО
		|		РаботникиСовместительство.Физлицо,
		|		РаботникиСовместительство.Подразделение
		|	
		|	ОБЪЕДИНИТЬ
		|	
		|	ВЫБРАТЬ
		|		МАКСИМУМ(СотрудникиДУ.Сотрудник),
		|		СотрудникиДУ.ФизЛицо,
		|		ВЫБОР
		|			КОГДА СотрудникиДУ.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ДоговорУправленческий)
		|				ТОГДА 3
		|			КОГДА СотрудникиДУ.ЭтоТрудовойДоговор
		|				ТОГДА 4
		|			ИНАЧЕ 5
		|		КОНЕЦ,
		|	СотрудникиДУ.Подразделение
		|	ИЗ
		|		ВТФизическиеЛица КАК СотрудникиДУ
		|	
		|	СГРУППИРОВАТЬ ПО
		|		СотрудникиДУ.ФизЛицо,
		|		ВЫБОР
		|			КОГДА СотрудникиДУ.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ДоговорУправленческий)
		|				ТОГДА 3
		|			КОГДА СотрудникиДУ.ЭтоТрудовойДоговор
		|				ТОГДА 4
		|			ИНАЧЕ 5
		|		КОНЕЦ,
		|		СотрудникиДУ.Подразделение) КАК СписокСотрудников
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
		|			СписокФизическихЛиц.Физлицо КАК Физлицо,
		|			МИНИМУМ(СписокФизическихЛиц.Приоритет) КАК Приоритет
		|		ИЗ
		|			(ВЫБРАТЬ
		|				РаботникиОсновноеМесто.Физлицо КАК Физлицо,
		|				1 КАК Приоритет
		|			ИЗ
		|				ВТ_Сотрудники_ТрудовойДоговор КАК РаботникиОсновноеМесто
		|			ГДЕ
		|				РаботникиОсновноеМесто.ЭтоОсновноеМестоРаботы
		|			
		|			ОБЪЕДИНИТЬ
		|			
		|			ВЫБРАТЬ
		|				РаботникиСовместительство.Физлицо,
		|				2
		|			ИЗ
		|				ВТ_Сотрудники_ТрудовойДоговор КАК РаботникиСовместительство
		|			ГДЕ
		|				(НЕ РаботникиСовместительство.ЭтоОсновноеМестоРаботы)
		|			
		|			ОБЪЕДИНИТЬ
		|			
		|			ВЫБРАТЬ
		|				СотрудникиДУ.ФизЛицо,
		|				ВЫБОР
		|					КОГДА СотрудникиДУ.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровСФизЛицами.ДоговорУправленческий)
		|						ТОГДА 3
		|					КОГДА СотрудникиДУ.ЭтоТрудовойДоговор
		|						ТОГДА 4
		|					ИНАЧЕ 5
		|				КОНЕЦ
		|			ИЗ
		|				ВТФизическиеЛица КАК СотрудникиДУ) КАК СписокФизическихЛиц
		|		
		|		СГРУППИРОВАТЬ ПО
		|			СписокФизическихЛиц.Физлицо) КАК СписокФизическихЛиц
		|		ПО СписокСотрудников.Физлицо = СписокФизическихЛиц.Физлицо
		|			И СписокСотрудников.Приоритет = СписокФизическихЛиц.Приоритет"; 
		
		Запрос.Текст = СотрудникиТекст;
		Запрос.Выполнить();
		СотрудникиТекст = "ВТСотрудники";  //" + СотрудникиТекст + "

		//
		//СотрудникиТекст = "ВЫБРАТЬ РАЗЛИЧНЫЕ
		//|		Работники.ФизЛицо КАК ФизЛицо,
		//|		Работники.Подразделение КАК Подразделение
		//|ПОМЕСТИТЬ ВТСотрудники
		//|	ИЗ
		//|		РегистрСведений.Работники.СрезПоследних(&ПарамДата, ) КАК Работники
		//|	ГДЕ
		//|		Работники.ПричинаИзмененияСостояния <> ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
		//|	
		//|	ОБЪЕДИНИТЬ
		//|	
		//|	ВЫБРАТЬ
		//|		Работники.ФизЛицо,
		//|		Работники.Подразделение
		//|	ИЗ
		//|		РегистрСведений.Работники КАК Работники
		//|	ГДЕ
		//|		Работники.Период > &ПарамДата
		//|		И Работники.Период <= &КонецМесяца
		//|		И Работники.ПричинаИзмененияСостояния <> ЗНАЧЕНИЕ(Перечисление.ПричиныИзмененияСостояния.Увольнение)
		//|;
		//|
		//|////////////////////////////////////////////////////////////////////////////////
		//|ВЫБРАТЬ
		//|	ПоказателиНачислений.Ссылка КАК Ссылка,
		//|	ПоказателиНачислений.НомерСтроки,
		//|	ПоказателиНачислений.Показатель
		//|ПОМЕСТИТЬ ПоказателиВидовРасчета
		//|ИЗ
		//|	ПланВидовРасчета.УправленческиеНачисления.Показатели КАК ПоказателиНачислений
		//|ГДЕ
		//|	(НЕ ПоказателиНачислений.Показатель.Предопределенный)
		//|	И (НЕ ПоказателиНачислений.Показатель.ВозможностьИзменения В (ЗНАЧЕНИЕ(Перечисление.ИзменениеПоказателейСхемМотивации.НеИзменяется), ЗНАЧЕНИЕ(Перечисление.ИзменениеПоказателейСхемМотивации.ПустаяСсылка)))
		//|	И (НЕ ПоказателиНачислений.Показатель.ТипПоказателя В (ЗНАЧЕНИЕ(Перечисление.ТипыПоказателейСхемМотивации.ОценочнаяШкалаЧисловая), ЗНАЧЕНИЕ(Перечисление.ТипыПоказателейСхемМотивации.ОценочнаяШкалаПроцентная), ЗНАЧЕНИЕ(Перечисление.ТипыПоказателейСхемМотивации.ТарифныйРазряд)))
		//|
		//|ИНДЕКСИРОВАТЬ ПО
		//|	Ссылка
		//|;
		//|
		//|////////////////////////////////////////////////////////////////////////////////
		//|ВЫБРАТЬ
		//|	ПлановыеНачисленияРаботниковСрезПоследних.ФизЛицо КАК ФизЛицо,
		//|	ПоказателиВидовРасчета.Показатель КАК Показатель,
		//|	ВЫБОР
		//|		КОГДА ПоказателиВидовРасчета.НомерСтроки = 1
		//|			ТОГДА ПлановыеНачисленияРаботниковСрезПоследних.Показатель1
		//|		КОГДА ПоказателиВидовРасчета.НомерСтроки = 2
		//|			ТОГДА ПлановыеНачисленияРаботниковСрезПоследних.Показатель2
		//|		КОГДА ПоказателиВидовРасчета.НомерСтроки = 3
		//|			ТОГДА ПлановыеНачисленияРаботниковСрезПоследних.Показатель3
		//|		КОГДА ПоказателиВидовРасчета.НомерСтроки = 4
		//|			ТОГДА ПлановыеНачисленияРаботниковСрезПоследних.Показатель4
		//|		КОГДА ПоказателиВидовРасчета.НомерСтроки = 5
		//|			ТОГДА ПлановыеНачисленияРаботниковСрезПоследних.Показатель5
		//|		КОГДА ПоказателиВидовРасчета.НомерСтроки = 6
		//|			ТОГДА ПлановыеНачисленияРаботниковСрезПоследних.Показатель6
		//|	КОНЕЦ КАК Значение,
		//|	ПоказателиВидовРасчета.Показатель.Валюта КАК Валюта
		//|ПОМЕСТИТЬ ПлановыеНачисления
		//|ИЗ
		//|	РегистрСведений.ПлановыеНачисленияРаботников.СрезПоследних(
		//|			&ПарамДата,
		//|			ФизЛицо В
		//|				(ВЫБРАТЬ
		//|					ВТСотрудники.ФизЛицо
		//|				ИЗ
		//|					ВТСотрудники)) КАК ПлановыеНачисленияРаботниковСрезПоследних
		//|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПоказателиВидовРасчета КАК ПоказателиВидовРасчета
		//|		ПО ПоказателиВидовРасчета.Ссылка = ПлановыеНачисленияРаботниковСрезПоследних.ВидРасчета
		//|ГДЕ
		//|	ПлановыеНачисленияРаботниковСрезПоследних.Действует <> ЛОЖЬ"
		//|;
		//|
		//|////////////////////////////////////////////////////////////////////////////////
		//|ВЫБРАТЬ
		//|	Сотрудники.Подразделение КАК Подразделение,
		//|	&ПарамДата КАК ПериодДействия,
		//|	ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
		//|	ПлановыеНачисления.Показатель КАК Показатель,
		//|	ПлановыеНачисления.Значение КАК Значение,
		//|	ПлановыеНачисления.Валюта КАК Валюта
		//|
		//|ПОМЕСТИТЬ ВТПлановыеПоказатели
		//|ИЗ
		//|	ПлановыеНачисления КАК ПлановыеНачисления
		//|		ЛЕВОЕ СОЕДИНЕНИЕ ВТСотрудники КАК Сотрудники
		//|		ПО (Сотрудники.ФизЛицо = ПлановыеНачисленияУдержания.ФизЛицо)
		//|
		//|ИНДЕКСИРОВАТЬ ПО
		//|	Показатель,
		//|	ФизЛицо,
		//|	Подразделение
		//|;
		//|
		//|////////////////////////////////////////////////////////////////////////////////
		//
		
		ПлановыеНачисленияТекст = "ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
			|	Сотрудники.ФизЛицо,
			|	Сотрудники.Подразделение,
			|	ПлановыеНачисления.ВидРасчета,
			|	ПлановыеНачисления.Показатель1,
			|	ПлановыеНачисления.Показатель2,
			|	ПлановыеНачисления.Показатель3,
			|	ПлановыеНачисления.Показатель4,
			|	ПлановыеНачисления.Показатель5,
			|	ПлановыеНачисления.Показатель6,
			|	ПлановыеНачисления.Предопределенный1,
			|	ПлановыеНачисления.Предопределенный2,
			|	ПлановыеНачисления.Предопределенный3,
			|	ПлановыеНачисления.Предопределенный4,
			|	ПлановыеНачисления.Предопределенный5,
			|	ПлановыеНачисления.Предопределенный6
			|ПОМЕСТИТЬ ВТПлановыеНачисления
			|ИЗ
			|	ВТСотрудники КАК Сотрудники
			|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			|			ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
			|			ПлановыеНачисления.ВидРасчета КАК ВидРасчета,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель1,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель2,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель3,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель4,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель5,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель6,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный1,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный2,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный3,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный4,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный5,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный6
			|		ИЗ
			|			РегистрСведений.ПлановыеНачисленияРаботников.СрезПоследних(&парамДата, ) КАК ПлановыеНачисления
			|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.УправленческиеНачисления.Показатели КАК Показатели
			|				ПО ПлановыеНачисления.ВидРасчета = Показатели.Ссылка
			|		ГДЕ
			|			ПлановыеНачисления.Действует
			|		
			|		ОБЪЕДИНИТЬ
			|		
			|		ВЫБРАТЬ
			|			ПлановыеНачисления.ФизЛицо,
			|			ПлановыеНачисления.ВидРасчета,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель1,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель2,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель3,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель4,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель5,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель ИНАЧЕ NULL КОНЕЦ КАК Показатель6,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 1 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный1,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 2 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный2,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 3 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный3,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 4 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный4,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 5 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный5,
			|			ВЫБОР КОГДА Показатели.НомерСтроки = 6 ТОГДА Показатели.Показатель.Предопределенный ИНАЧЕ NULL КОНЕЦ КАК Предопределенный6
			|		ИЗ
			|			РегистрСведений.ПлановыеНачисленияРаботников КАК ПлановыеНачисления
			|				ЛЕВОЕ СОЕДИНЕНИЕ ПланВидовРасчета.УправленческиеНачисления.Показатели КАК Показатели
			|				ПО ПлановыеНачисления.ВидРасчета = Показатели.Ссылка
			|		ГДЕ
			|			ПлановыеНачисления.Период > &парамДата
			|			И ПлановыеНачисления.Период <= &КонецМесяца
			|			И ПлановыеНачисления.Действует) КАК ПлановыеНачисления
			|		ПО Сотрудники.ФизЛицо = ПлановыеНачисления.ФизЛицо";
	
		Запрос.Текст = ПлановыеНачисленияТекст;
		Запрос.Выполнить();
		ПлановыеНачисленияТекст = "ВТПлановыеНачисления";
	
		Запрос.Текст =
		"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
		|	&ПарамДата КАК Период,
		|	ПлановыеНачисления.Показатель,
		|	ВЫБОР
		|		КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)
		|			ТОГДА Сотрудники.Сотрудник
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СотрудникиОрганизаций.ПустаяСсылка)
		|	КОНЕЦ КАК Сотрудник,
		|	ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка) КАК Организация,
		|	ВЫБОР
		|		КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.ПоПодразделению) 
		|			ТОГДА ПлановыеНачисления.Подразделение
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка) 
		|	КОНЕЦ КАК Подразделение,
		|	ЗначенияПоказателейСхемМотивации.Значение,
		|	ЗначенияПоказателейСхемМотивации.Валюта,
		|	ЗначенияПоказателейСхемМотивации.Документ
		|ИЗ
		|	(ВЫБРАТЬ
		|		ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель1 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель1.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель1.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель1, &ПустойПоказатель) = &ПустойПоказатель)
		|	
		|	ОБЪЕДИНИТЬ
		|	
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель2 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель2.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель2.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель2, &ПустойПоказатель) = &ПустойПоказатель)
		|	
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель3 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель3.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель3.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель3, &ПустойПоказатель) = &ПустойПоказатель)
		|
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель4 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель4.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель4.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель4, &ПустойПоказатель) = &ПустойПоказатель)
		|
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель5 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель5.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель5.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель5, &ПустойПоказатель) = &ПустойПоказатель)
		|
		|	ОБЪЕДИНИТЬ
		|
		|	ВЫБРАТЬ
		|		ПлановыеНачисления.ФизЛицо КАК ФизЛицо,
		|		ПлановыеНачисления.Подразделение КАК Подразделение,
		|		ПлановыеНачисления.Показатель6 КАК Показатель
		|	ИЗ
		|		" + ПлановыеНачисленияТекст + " КАК ПлановыеНачисления
		|	ГДЕ
		|		НЕ(ПлановыеНачисления.Показатель6.ВозможностьИзменения В (&ПарамВозможностьИзменения)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель6.Предопределенный, ЛОЖЬ)
		|			ИЛИ ЕСТЬNULL(ПлановыеНачисления.Показатель6, &ПустойПоказатель) = &ПустойПоказатель)) КАК ПлановыеНачисления
		|
		|	ЛЕВОЕ СОЕДИНЕНИЕ ВТСотрудники КАК Сотрудники
		|		ПО ПлановыеНачисления.ФизЛицо = Сотрудники.ФизЛицо
		|
		|	// подтянем уже введенные за период данные, чтобы он не перезатерлись
		|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЗначенияПоказателейСхемМотивации.СрезПоследних(
		|							&парамДата,
		|							Организация = ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
	    |						И Период >= &ПарамДата
	    |						И Период <= &КонецМесяца) КАК ЗначенияПоказателейСхемМотивации
		|		ПО ПлановыеНачисления.Показатель = ЗначенияПоказателейСхемМотивации.Показатель
		|			И ВЫБОР
		|				КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)
		|					ТОГДА ПлановыеНачисления.ФизЛицо
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ФизическиеЛица.ПустаяСсылка)
		|			КОНЕЦ  = ЗначенияПоказателейСхемМотивации.Сотрудник.ФизЛицо
		|			И ВЫБОР
		|				КОГДА ЕСТЬNULL(ПлановыеНачисления.Показатель.ВидПоказателя, ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.Индивидуальный)) = ЗНАЧЕНИЕ(Перечисление.ВидыПоказателейСхемМотивации.ПоПодразделению) 
		|					ТОГДА ПлановыеНачисления.Подразделение
		|				ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Подразделения.ПустаяСсылка) 
		|			КОНЕЦ = ЗначенияПоказателейСхемМотивации.Подразделение
		|";
		
	КонецЕсли;
	
	ЭтотОбъект.Загрузить(Запрос.Выполнить().Выгрузить());
	
КонецПроцедуры // Автозаполнение
