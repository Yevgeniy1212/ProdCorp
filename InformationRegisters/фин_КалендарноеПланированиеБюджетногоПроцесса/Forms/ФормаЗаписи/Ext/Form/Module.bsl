
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
     СписокВидовЕдиниц.Добавить(Перечисления.усд_ЕдиницыИзмеренияВремениИсполненияЗадачСогласования.Дней);
     СписокВидовЕдиниц.Добавить(Перечисления.усд_ЕдиницыИзмеренияВремениИсполненияЗадачСогласования.РабочихДней);
	 НадписьДатаИсполнения="Дата исполнения";
	 НадписьПланируемаяЗадача = "Планируемая задача";
	 НадписьПланируемыйБюджет = "Планируемый бюджет";
	 НадписьСрокИсполнения = "Срок исполнения";
	 УстановитьВидимость();
КонецПроцедуры

&НаКлиенте
Процедура ВидЗадачиПриИзменении(Элемент)
	УстановитьВидимость();
	Если Запись.ВидЗадачи=ПредопределенноеЗначение("Перечисление.фин_ВидыЗадачПоБюджетам.УведомленияОПревышенииЛимитовПриУчетеФактическихДанных") Тогда
		//Запись.СценарийПланирования=фин_ОбщегоНазначенияКлиентПовтИсп.ПустаяСсылкаСценарий();
		Запись.Бюджет=ПредопределенноеЗначение("Справочник.фин_Бюджеты.ПустаяСсылка");
		Запись.ВидОперации = ПредопределенноеЗначение("Перечисление.фин_ВидыОперацийБюджет.ПустаяСсылка");
		Запись.Проект=фин_ОбщегоНазначенияКлиентПовтИсп.ПустоеЗначениеПроект();
		Запись.УправленческоеПодразделение=фин_ОбщегоНазначенияКлиентПовтИсп.ПустоеЗначениеУправленческоеПодразделение();
	КонецЕсли;
КонецПроцедуры

&НаСервере
Процедура УстановитьВидимость()
	Элементы.ГруппаДата.Видимость= НЕ (Запись.ВидЗадачи=Перечисления.фин_ВидыЗадачПоБюджетам.УведомленияОПревышенииЛимитовПриУчетеФактическихДанных);	
	Элементы.ГруппаБюджет.Видимость= НЕ (Запись.ВидЗадачи=Перечисления.фин_ВидыЗадачПоБюджетам.УведомленияОПревышенииЛимитовПриУчетеФактическихДанных);	
	Элементы.Проект.Видимость=Запись.Бюджет.УровеньДетализацииБюджета=Перечисления.фин_УровниДетализацииБюджета.БюджетПроекта;
	Элементы.УправленческоеПодразделение.Видимость=Запись.Бюджет.УровеньДетализацииБюджета=Перечисления.фин_УровниДетализацииБюджета.БюджетПодразделения;
КонецПроцедуры

