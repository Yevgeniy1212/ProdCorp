#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
////////////////////////////////////////////////////////////////////////////////
// ПРОГРАММНЫЙ ИНТЕРФЕЙС


////////////////////////////////////////////////////////////////////////////////
// СЛУЖЕБНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

////////////////////////////////////////////////////////////////////////////////
// Заполнение


////////////////////////////////////////////////////////////////////////////////
// Проведение

Функция ПодготовитьПараметрыПроведения(ДокументСсылка, Отказ) Экспорт
	
	ЗаменяемыеЗапросы = Новый Массив;
	ЗаменяемыеЗапросы.Добавить("ПереченьПравилРасчета");
	ЗаменяемыеЗапросы.Добавить("МатериальноеСтимулирование");
	
	ДополнительныеПараметрыЗапросов = Новый Структура;
	ДополнительныеПараметрыЗапросов.Вставить("БюджетированиеПоОрганизациям",фин_ОбщегоНазначенияВызовСервераПовтИсп.ЗначениеПеременной("БюджетированиеПоОрганизациям"));
	
	ПараметрыПроведения = фин_УправлениеПроведениемДокументовСервер.ПодготовитьПараметрыПроведения(ДокументСсылка, Отказ,,,,,,ЗаменяемыеЗапросы,ДополнительныеПараметрыЗапросов);
	
	Возврат ПараметрыПроведения;

КонецФункции 

Функция ТекстЗапросаМатериальноеСтимулирование(НомераТаблиц,ПараметрыПроведения, Реквизиты)  Экспорт

	ТекстЗапроса = "";
	
	Если НЕ Реквизиты["ЕстьМатериальноеСтимулирование"] Тогда
		ПараметрыПроведения.Вставить("ТаблицаМатериальноеСтимулирование", Неопределено);
	Иначе
		ТекстЗапроса = 		"ВЫБРАТЬ
		               		|	МатериальноеСтимулирование.Ссылка.Ссылка КАК План,
		               		|	МатериальноеСтимулирование.Ссылка.ПериодДействия КАК Период,
		               		|	МатериальноеСтимулирование.Ссылка,
		               		|	МатериальноеСтимулирование.НомерСтроки,
		               		|	МатериальноеСтимулирование.УправленческоеПодразделение,
		               		|	МатериальноеСтимулирование.Формула,
		               		|	МатериальноеСтимулирование.ВидРасчетаПремии,
		               		|	МатериальноеСтимулирование.ВидРасчетаУдержания,
		               		|	МатериальноеСтимулирование.ПремироватьПриПоложительномКоэффициенте,
		               		|	МатериальноеСтимулирование.УдерживатьПриОтрицательномКоэффициенте,
		               		|	МатериальноеСтимулирование.МинимальныйРазмерДляРасчетаПремии,
		               		|	МатериальноеСтимулирование.НачальныйРазмерДляРасчетаУдержания
		               		|ИЗ
		               		|	Документ.фин_ПланОценкиЭффективностиИМотивацииОтветственныхБюджетногоПроцесса.МатериальноеСтимулирование КАК МатериальноеСтимулирование
		               		|ГДЕ
		               		|	МатериальноеСтимулирование.Ссылка = &Ссылка";

		ТекстЗапроса = ТекстЗапроса + фин_УправлениеПроведениемДокументовСервер.ТекстРазделителяЗапросовПакета();
		НомераТаблиц.Вставить("ТаблицаМатериальноеСтимулирование",  НомераТаблиц.Количество());
	КонецЕсли;
	
	Возврат ТекстЗапроса;	
КонецФункции 

Функция ТекстЗапросаПереченьПравилРасчета(НомераТаблиц,ПараметрыПроведения, Реквизиты)  Экспорт

	ТекстЗапроса = "";
	
	Если НЕ Реквизиты["ЕстьПереченьПравилРасчета"] Тогда
		ПараметрыПроведения.Вставить("ТаблицаПереченьПравилРасчета", Неопределено);
	Иначе
		ТекстЗапроса = 		"ВЫБРАТЬ
		               		|	ПереченьПравилРасчета.Ссылка,
		               		|	ПереченьПравилРасчета.НомерСтроки,
		               		|	ПереченьПравилРасчета.ФинансовыйПоказатель,
		               		|	ПереченьПравилРасчета.УправленческоеПодразделение,
		               		|	ПереченьПравилРасчета.Цель,
		               		|	ПереченьПравилРасчета.ДанныеПоказателя,
		               		|	ПереченьПравилРасчета.ИспользуемаяВеличина,
		               		|	ПереченьПравилРасчета.Формула,
		               		|	ПереченьПравилРасчета.УдельныйВес,
		               		|	ПереченьПравилРасчета.ОграничитьПодразделением,
		               		|	ПереченьПравилРасчета.Ссылка.Ссылка КАК План,
		               		|	ПереченьПравилРасчета.Ссылка.ПериодДействия КАК Период
		               		|ИЗ
		               		|	Документ.фин_ПланОценкиЭффективностиИМотивацииОтветственныхБюджетногоПроцесса.ПереченьПравилРасчета КАК ПереченьПравилРасчета
		               		|ГДЕ
		               		|	ПереченьПравилРасчета.Ссылка = &Ссылка";

		ТекстЗапроса = ТекстЗапроса + фин_УправлениеПроведениемДокументовСервер.ТекстРазделителяЗапросовПакета();
		НомераТаблиц.Вставить("ТаблицаПереченьПравилРасчета",  НомераТаблиц.Количество());
	КонецЕсли;
	
	Возврат ТекстЗапроса;	
КонецФункции 


////////////////////////////////////////////////////////////////////////////////
// Интерфейс для работы с подсистемой Печать.

// Заполняет список команд печати.
// 
// Параметры:
//   КомандыПечати - ТаблицаЗначений - состав полей см. в функции УправлениеПечатью.СоздатьКоллекциюКомандПечати
//
Процедура ДобавитьКомандыПечати(КомандыПечати) Экспорт
	
КонецПроцедуры

// Формирует печатные формы.
//
// Параметры:
//  МассивОбъектов  - Массив    - ссылки на объекты, которые нужно распечатать;
//  ПараметрыПечати - Структура - дополнительные настройки печати;
//  КоллекцияПечатныхФорм - ТаблицаЗначений - сформированные табличные документы (выходной параметр)
//  ОбъектыПечати         - СписокЗначений  - значение - ссылка на объект;
//                                            представление - имя области в которой был выведен объект (выходной параметр);
//  ПараметрыВывода       - Структура       - дополнительные параметры сформированных табличных документов (выходной параметр).
//
Процедура Печать(МассивОбъектов, ПараметрыПечати, КоллекцияПечатныхФорм, ОбъектыПечати, ПараметрыВывода) Экспорт
	
	
	ПараметрыВывода.ДоступнаПечатьПоКомплектно = Истина;

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// Прочие служебные процедуры и функции


#КонецЕсли