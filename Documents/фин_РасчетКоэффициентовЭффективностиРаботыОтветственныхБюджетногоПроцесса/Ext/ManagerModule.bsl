#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
////////////////////////////////////////////////////////////////////////////////
// ПРОГРАММНЫЙ ИНТЕРФЕЙС

Процедура Рассчитать(Объект) Экспорт
    фин_ЗащитаПривилегированныеПроцедуры.РассчитатьКоэффициентыЭффективности(Объект.Сценарий,Объект.ПериодПланирования,фин_ОбщегоНазначенияВызовСервераПовтИсп.ЗначениеПеременной("фин_БюджетированиеПоОрганизациям"),Объект.Организация,Объект.Дата,Объект.РасчетКоэффициентов);
КонецПроцедуры


////////////////////////////////////////////////////////////////////////////////
// СЛУЖЕБНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

////////////////////////////////////////////////////////////////////////////////
// Заполнение


////////////////////////////////////////////////////////////////////////////////
// Проведение

Функция ПодготовитьПараметрыПроведения(ДокументСсылка, Отказ) Экспорт
	
	ЗаменяемыеЗапросы = Новый Массив;
	ЗаменяемыеЗапросы.Добавить("РасчетКоэффициентов");
	
	ДополнительныеПараметрыЗапросов = Новый Структура;
	ДополнительныеПараметрыЗапросов.Вставить("БюджетированиеПоОрганизациям",фин_ОбщегоНазначенияВызовСервераПовтИсп.ЗначениеПеременной("БюджетированиеПоОрганизациям"));
	
	ПараметрыПроведения = фин_УправлениеПроведениемДокументовСервер.ПодготовитьПараметрыПроведения(ДокументСсылка, Отказ,,,,,,ЗаменяемыеЗапросы,ДополнительныеПараметрыЗапросов);
	
	Возврат ПараметрыПроведения;

КонецФункции 

Функция ТекстЗапросаРасчетКоэффициентов(НомераТаблиц,ПараметрыПроведения, Реквизиты)  Экспорт

	ТекстЗапроса = "";
	
	Если НЕ Реквизиты["ЕстьРасчетКоэффициентов"] Тогда
		ПараметрыПроведения.Вставить("ТаблицаРасчетКоэффициентов", Неопределено);
	Иначе
		ТекстЗапроса = 		"ВЫБРАТЬ
		               		|	РасчетКоэффициентов.Ссылка,
		               		|	ВЫБОР
		               		|		КОГДА &БюджетированиеПоОрганизациям
		               		|			ТОГДА РасчетКоэффициентов.Ссылка.Организация
		               		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
		               		|	КОНЕЦ КАК Организация,
		               		|	РасчетКоэффициентов.НомерСтроки,
		               		|	РасчетКоэффициентов.УправленческоеПодразделение,
		               		|	РасчетКоэффициентов.Коэффициент КАК КоэффициентЭффективности,
		               		|	РасчетКоэффициентов.ПериодПланирования,
		               		|	РасчетКоэффициентов.Ссылка.Дата КАК Период
		               		|ИЗ
		               		|	Документ.фин_РасчетКоэффициентовЭффективностиРаботыОтветственныхБюджетногоПроцесса.РасчетКоэффициентов КАК РасчетКоэффициентов
		               		|ГДЕ
		               		|	РасчетКоэффициентов.Ссылка = &Ссылка";

		ТекстЗапроса = ТекстЗапроса + фин_УправлениеПроведениемДокументовСервер.ТекстРазделителяЗапросовПакета();
		НомераТаблиц.Вставить("ТаблицаРасчетКоэффициентов",  НомераТаблиц.Количество());
	КонецЕсли;
	
	Возврат ТекстЗапроса;	
КонецФункции 

////////////////////////////////////////////////////////////////////////////////
// Интерфейс для работы с подсистемой Печать.

// Заполняет список команд печати.
// 
// Параметры:
//   КомандыПечати - ТаблицаЗначений - состав полей см. в функции УправлениеПечатью.СоздатьКоллекциюКомандПечати
//
Процедура ДобавитьКомандыПечати(КомандыПечати) Экспорт
	
КонецПроцедуры

// Формирует печатные формы.
//
// Параметры:
//  МассивОбъектов  - Массив    - ссылки на объекты, которые нужно распечатать;
//  ПараметрыПечати - Структура - дополнительные настройки печати;
//  КоллекцияПечатныхФорм - ТаблицаЗначений - сформированные табличные документы (выходной параметр)
//  ОбъектыПечати         - СписокЗначений  - значение - ссылка на объект;
//                                            представление - имя области в которой был выведен объект (выходной параметр);
//  ПараметрыВывода       - Структура       - дополнительные параметры сформированных табличных документов (выходной параметр).
//
Процедура Печать(МассивОбъектов, ПараметрыПечати, КоллекцияПечатныхФорм, ОбъектыПечати, ПараметрыВывода) Экспорт
	
	
	ПараметрыВывода.ДоступнаПечатьПоКомплектно = Истина;

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// Прочие служебные процедуры и функции


#КонецЕсли