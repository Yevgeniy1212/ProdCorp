
&НаКлиенте
Процедура ОткрытьСправочник(Элемент)
	ИмяФормыОбъекта = "Справочник."+ОтсечьЦифры(СтрЗаменить(Элемент.Имя,"Декорация_",""))+".ФормаСписка";
	Попытка	
		ОткрытьФорму(ИмяФормыОбъекта,,,Новый УникальныйИдентификатор);
	Исключение
		ПоказатьПредупреждение(,ОписаниеОшибки());
	КонецПопытки;
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьПланВидовХарактеристик(Элемент)
	ИмяФормыОбъекта = "ПланВидовХарактеристик."+ОтсечьЦифры(СтрЗаменить(Элемент.Имя,"Декорация_",""))+".ФормаСписка";
	Попытка	
		ОткрытьФорму(ИмяФормыОбъекта,,,Новый УникальныйИдентификатор);
	Исключение
		ПоказатьПредупреждение(,ОписаниеОшибки());
	КонецПопытки;
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьДокумент(Элемент)
	ИмяФормыОбъекта = "Документ."+ОтсечьЦифры(СтрЗаменить(Элемент.Имя,"Декорация_",""))+".ФормаСписка";
	Попытка	
		ОткрытьФорму(ИмяФормыОбъекта,,,Новый УникальныйИдентификатор);
	Исключение
		ПоказатьПредупреждение(,ОписаниеОшибки());
	КонецПопытки;
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьРегистрСведений(Элемент)
	ИмяФормыОбъекта = "РегистрСведений."+ОтсечьЦифры(СтрЗаменить(Элемент.Имя,"Декорация_",""))+".ФормаСписка";
	Попытка	
		ОткрытьФорму(ИмяФормыОбъекта,,,Новый УникальныйИдентификатор);
	Исключение
		ПоказатьПредупреждение(,ОписаниеОшибки());
	КонецПопытки;
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьОбработку(Элемент)
	ИмяФормыОбъекта = "Обработка."+ОтсечьЦифры(СтрЗаменить(Элемент.Имя,"Декорация_",""))+".Форма";
	Попытка	
		ОткрытьФорму(ИмяФормыОбъекта,,,Новый УникальныйИдентификатор);
	Исключение
		ПоказатьПредупреждение(,ОписаниеОшибки());
	КонецПопытки;
КонецПроцедуры

&НаКлиенте
Функция ОтсечьЦифры(ИсходнаяСтрока)

	ФинальнаяСтрока = ИсходнаяСтрока;
	
	КодСимвола = КодСимвола(Прав(ИсходнаяСтрока, 1));
	
	Если (КодСимвола >= 48 И КодСимвола <= 57) Тогда
		ФинальнаяСтрока = Лев(ИсходнаяСтрока, СтрДлина(ИсходнаяСтрока) - 1);
	КонецЕсли; 
	
	КодСимвола = КодСимвола(Прав(ФинальнаяСтрока, 1));
	
	Если (КодСимвола >= 48 И КодСимвола <= 57) Тогда
		ФинальнаяСтрока = Лев(ФинальнаяСтрока, СтрДлина(ФинальнаяСтрока) - 1);
	КонецЕсли; 
	

	ФинальнаяСтрока = фин_ОбщегоНазначенияКлиентСервер.ИмяОбъектаИБ(ФинальнаяСтрока);
	Возврат ФинальнаяСтрока;
		
КонецФункции // ОтсечьЦифры()

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Элементы.ГруппаУправленческийПланСчетов.Видимость=ПолучитьФункциональнуюОпцию("фин_УчетПоПлануСчетовБюджетирования");
	Элементы.Декорация_ГруппаУправленческийПланСчетов.Видимость=ПолучитьФункциональнуюОпцию("фин_УчетПоПлануСчетовБюджетирования");
	Элементы.Декорация_фин_НастройкаДополнительныхРазрезовБюджетирования.Видимость=ПолучитьФункциональнуюОпцию("фин_ИспользоватьУниверсальнуюАналитику");
	Элементы.Декорация_фин_РеструктуризацияДанныхБюджетированияПриИзмененииРазрезовПланирования.Видимость=ПолучитьФункциональнуюОпцию("фин_ИспользоватьУниверсальнуюАналитику");
	Элементы.Декорация_Проекты.Видимость=ПолучитьФункциональнуюОпцию("фин_ВестиУчетПоПроектам");
	Элементы.Декорация_ВидыРаспределенияПоПроектам.Видимость=ПолучитьФункциональнуюОпцию("фин_ВестиУчетПоПроектам");
	Элементы.Декорация_УстановкаДолейРаспределенияПоПроектам.Видимость=ПолучитьФункциональнуюОпцию("фин_ВестиУчетПоПроектам");
КонецПроцедуры

&НаКлиенте
Процедура Декорация_Группа(Элемент)
	ИмяСтраницы = СтрЗаменить(Элемент.Имя,"Декорация_","");
	Элементы.Страницы.ТекущаяСтраница=Элементы.Страницы.ПодчиненныеЭлементы[ИмяСтраницы];
КонецПроцедуры

&НаКлиенте
Процедура Декорация_ПланСчетовНажатие(Элемент)
	Попытка	
		ОткрытьФорму("ПланСчетов.фин_Бюджетирование.ФормаСписка",,,Новый УникальныйИдентификатор);
	Исключение
		ПоказатьПредупреждение(,ОписаниеОшибки());
	КонецПопытки;
КонецПроцедуры

&НаСервере
Функция ИмяВидаОбъектовМетаданных(ИмяЭлемента)
	Возврат СтрЗаменить(Элементы.Найти(ИмяЭлемента).ПолучитьДействие("Нажатие"),"Открыть","");	
КонецФункции

&НаКлиенте
Процедура ОткрытьВОтдельномОкне(Команда)
	ИмяЭлемента = ТекущийЭлемент.Имя;
	ИмяВидаОбъектов = ИмяВидаОбъектовМетаданных(ИмяЭлемента);
	ИмяФормыОбъекта = ИмяВидаОбъектов+"."+ОтсечьЦифры(СтрЗаменить(ТекущийЭлемент.Имя,"Декорация_",""))+".ФормаСписка";
	Попытка	
		ОткрытьФорму(ИмяФормыОбъекта,,,Новый УникальныйИдентификатор,ВариантОткрытияОкна.ОтдельноеОкно);
	Исключение
		ПоказатьПредупреждение(,ОписаниеОшибки());
	КонецПопытки;
КонецПроцедуры
